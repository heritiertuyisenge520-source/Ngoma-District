// Replace line 1167 in AnalyticsView.tsx:

// OLD LINE:
const subAnnualProgress = subAnnualTarget > 0 ? Math.min(Math.round((sub.actual / subAnnualTarget) * 100), 100) : 0;

// NEW LINES:
const parentIndicator = INDICATORS.find(ind => 
  ind.subIndicatorIds && Object.values(ind.subIndicatorIds).includes(sub.id)
);

let subAnnualProgress = 0;
if (parentIndicator && ['69', '99', '101'].includes(parentIndicator.id)) {
  // Use calculated percentage for indicators 69, 99, 101
  subAnnualProgress = sub.calculatedPercentage || 0;
} else {
  // Regular calculation for other indicators
  subAnnualProgress = subAnnualTarget > 0 ? Math.min(Math.round((sub.actual / subAnnualTarget) * 100), 100) : 0;
}
